<div class="landing-container">
    <mat-toolbar color="primary" class="toolbar">
        <span class="logo">üé¨ MovieMood</span>

    </mat-toolbar>

    <div class="hero">
        <h1>What Should I Watch Tonight?</h1>
        <p class="subheading">Pick a vibe and we‚Äôll find you something amazing to watch.</p>

        <!-- Search Input -->
        <div class="search-section">
            <mat-form-field class="search-bar" appearance="outline">
                <mat-label>Search for movies or actors</mat-label>
                <input matInput [(ngModel)]="searchQuery" (ngModelChange)="onSearchChange()" />
            </mat-form-field>
        </div>

        <ng-container *ngIf="loading">
            <div class="loading-spinner">
                <mat-progress-spinner mode="indeterminate" diameter="50" strokeWidth="5" color="accent">
                </mat-progress-spinner>
            </div>
        </ng-container>

        <div *ngIf="searchQuery && searchResults.length > 0" class="results">
            <h2>Search Results</h2>
            <div class="movie-grid">
                <mat-card *ngFor="let movie of searchResults" class="movie-card mat-elevation-z3">
                    <img mat-card-image
                        [src]="movie.poster_path ? 'https://image.tmdb.org/t/p/w500' + movie.poster_path : '/assets/fallback-poster.jpeg'"
                        alt="Poster for {{ movie.title || movie.name }}">

                    <mat-card-title class="movie-title" [attr.data-full-title]="movie.title || movie.name">
                        {{ movie.title || movie.name }}
                    </mat-card-title>
                    <mat-card-subtitle *ngIf="movie.release_date">
                        Release: {{ movie.release_date | date:'yyyy' }}
                    </mat-card-subtitle>
                    <mat-card-content>
                        ‚≠ê {{ movie.vote_average || 'N/A' }}
                    </mat-card-content>
                </mat-card>
            </div>
        </div>



        <div *ngIf="!searchQuery || searchQuery.trim() === ''" class="mood-buttons">
            <button mat-raised-button color="accent" (click)="selectMood('feel-good')">
                üòä Feel Good
            </button>
            <button mat-raised-button color="warn" (click)="selectMood('action')">
                üí• Action Fix
            </button>
            <button mat-raised-button color="primary" (click)="selectMood('mind-benders')">
                üß† Mind Benders
            </button>
        </div>
    </div>




    <div *ngIf="selectedMood" class="results">
        <h2>Movies for "{{ selectedMoodLabel }}"</h2>

        <div class="movie-grid">
            <mat-card *ngFor="let movie of movies" class="movie-card mat-elevation-z3">
                <img mat-card-image
                    [src]="movie.poster_path ? 'https://image.tmdb.org/t/p/w500' + movie.poster_path : 'assets/fallback-poster.jpeg'"
                    alt="Poster for {{ movie.title || movie.name }}">

                <mat-card-title class="movie-title" [attr.data-full-title]="movie.title">{{ movie.title
                    }}</mat-card-title>
                <mat-card-subtitle>Release: {{ movie.release_date | date:'yyyy' }}</mat-card-subtitle>
                <mat-card-content>
                    ‚≠ê {{ movie.vote_average }}
                </mat-card-content>
            </mat-card>
        </div>
    </div>
</div>